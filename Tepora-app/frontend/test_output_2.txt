
[1m[46m RUN [49m[22m [36mv4.0.14 [39m[90mE:/Tepora_Project/Tepora-app/frontend[39m

 [32m‚úì[39m src/test/example.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
[90mstdout[2m | src/hooks/__tests__/useWebSocket.test.ts[2m > [22m[2museWebSocket[2m > [22m[2mshould connect on mount
[22m[39mAuto-loading history for session: default

[90mstdout[2m | src/hooks/__tests__/useWebSocket.test.ts[2m > [22m[2museWebSocket[2m > [22m[2mshould receive messages
[22m[39mAuto-loading history for session: default

[90mstdout[2m | src/hooks/__tests__/useWebSocket.test.ts[2m > [22m[2museWebSocket[2m > [22m[2mshould receive messages
[22m[39mWS Received: { type: [32m'chunk'[39m, message: [32m'Hello from server'[39m, mode: [32m'direct'[39m }

[90mstdout[2m | src/hooks/__tests__/useWebSocket.test.ts[2m > [22m[2museWebSocket[2m > [22m[2mshould send messages
[22m[39mAuto-loading history for session: default

[90mstdout[2m | src/hooks/__tests__/useWebSocket.test.ts[2m > [22m[2museWebSocket[2m > [22m[2mshould cleanup on unmount
[22m[39mAuto-loading history for session: default

 [32m‚úì[39m src/hooks/__tests__/useWebSocket.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 50[2mms[22m[39m
 [31m‚ùØ[39m src/components/__tests__/SearchResults.test.tsx [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[32m 66[2mms[22m[39m
[31m     [31m√ó[31m renders empty state[39m[32m 47[2mms[22m[39m
[31m     [31m√ó[31m renders results correctly[39m[32m 17[2mms[22m[39m
 [31m‚ùØ[39m src/components/__tests__/PersonaSwitcher.test.tsx [2m([22m[2m4 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[32m 75[2mms[22m[39m
[31m     [31m√ó[31m renders correctly[39m[32m 49[2mms[22m[39m
[31m     [31m√ó[31m opens menu on click[39m[32m 9[2mms[22m[39m
[31m     [31m√ó[31m calls setActiveAgent when a persona is selected[39m[32m 8[2mms[22m[39m
[31m     [31m√ó[31m renders without crashing when active profile is different[39m[32m 6[2mms[22m[39m
 [32m‚úì[39m src/components/__tests__/InputArea.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 391[2mms[22m[39m
 [32m‚úì[39m src/components/__tests__/MessageBubble.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[32m 144[2mms[22m[39m
 [31m‚ùØ[39m src/components/__tests__/MessageList.test.tsx [2m([22m[2m4 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 153[2mms[22m[39m
[31m     [31m√ó[31m renders messages correctly[39m[32m 110[2mms[22m[39m
     [32m‚úì[39m renders code blocks[32m 18[2mms[22m[39m
     [32m‚úì[39m renders empty state[32m 4[2mms[22m[39m
     [32m‚úì[39m scrolls to bottom on new message[32m 19[2mms[22m[39m
 [32m‚úì[39m src/test/Integration.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 316[2mms[22m[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Tests 7 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[41m[1m FAIL [22m[49m src/components/__tests__/MessageList.test.tsx[2m > [22mMessageList[2m > [22mrenders messages correctly
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: /Hi there!/

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33maria-atomic[39m=[32m"true"[39m
  [33maria-live[39m=[32m"polite"[39m
  [33mclass[39m=[32m"sr-only"[39m
[36m>[39m
  [0mAssistant: Hi there! Here is some code:
```python
print("hello") 
```[0m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<p>[39m
  [0mHi there! Here is some code:[0m
[36m</p>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33maria-label[39m=[32m"Chat messages"[39m
      [33maria-live[39m=[32m"off"[39m
      [33mclass[39m=[32m"overflow-y-auto p-4 space-y-6 h-full custom-scrollbar"[39m
      [33mrole[39m=[32m"log"[39m
    [36m>[39m
      [36m<div[39m
        [33maria-atomic[39m=[32m"true"[39m
        [33maria-live[39m=[32m"polite"[39m
        [33mclass[39m=[32m"sr-only"[39m
      [36m>[39m
        [0mAssistant: Hi there! Here is some code:
```python
print("hello") 
```[0m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-end animate-message-in group"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex max-w-[90%] md:max-w-[85%] min-w-0 flex-row-reverse gap-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-shrink-0 w-9 h-9 rounded-full flex items-center justify-center mt-1 shadow-xl ring-1 ring-white/10 bg-gradient-to-br from-coffee-500 to-coffee-700 transition-transform duration-500 group-hover:scale-110"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-user w-4 h-4 text-white"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"7"[39m
                [33mr[39m=[32m"4"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col min-w-0"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"rounded-2xl p-4 shadow-lg backdrop-blur-md border min-w-0 transition-all bg-coffee-600/70 border-coffee-400/50 text-cream-100 rounded-tr-none relative overflow-hidden"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"markdown-content prose prose-invert max-w-none break-words whitespace-pre-wrap
                                prose-p:leading-7 prose-p:my-3
                                prose-headings:font-display prose-headings:text-gold-100 prose-headings:font-normal
                                prose-pre:bg-black/40 prose-pre:backdrop-blur-sm prose-pre:border prose-pre:border-white/10 prose-pre:rounded-xl prose-pre:shadow-inner
                                prose-code:bg-white/10 prose-code:rounded-md prose-code:px-1.5 prose-code:py-0.5 prose-code:font-mono prose-code:text-gold-200 prose-code:before:content-[''] prose-code:after:content-['']
                                prose-blockquote:border-l-gold-500/50 prose-blockquote:bg-white/5 prose-blockquote:py-1 prose-blockquote:px-4 prose-blockquote:rounded-r-lg prose-blockquote:not-italic
                                prose-ul:my-2 prose-li:my-1
                                prose-a:text-gold-400 prose-a:no-underline hover:prose-a:text-gold-300 hover:prose-a:underline
                                prose-p:text-cream-50
                            "[39m
              [36m>[39m
                [36m<p>[39m
                  [0mHello[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-[10px] opacity-40 mt-1.5 font-mono flex items-center gap-1 justify-end text-gold-200/50"[39m
            [36m>[39m
              [0m10:00:00[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-start animate-message-in group"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex max-w-[90%] md:max-w-[85%] min-w-0 flex-row gap-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-shrink-0 w-9 h-9 rounded-full flex items-center justify-center mt-1 shadow-xl ring-1 ring-white/10 bg-black/70 backdrop-blur-md transition-transform duration-500 group-hover:scale-110"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-bot w-4 h-4 text-gold-400"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 8V4H8"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"12"[39m
                [33mrx[39m=[32m"2"[39m
                [33mwidth[39m=[32m"16"[39m
                [33mx[39m=[32m"4"[39m
                [33my[39m=[32m"8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M2 14h2"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M20 14h2"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M15 13v2"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M9 13v2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col min-w-0"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"rounded-2xl p-4 shadow-lg backdrop-blur-md border min-w-0 transition-all bg-black/70 border-white/20 text-gray-100 rounded-tl-none relative overflow-hidden"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"markdown-content prose prose-invert max-w-none break-words whitespace-pre-wrap
                                prose-p:leading-7 prose-p:my-3
                                prose-headings:font-display prose-headings:text-gold-100 prose-headings:font-normal
                                prose-pre:bg-black/40 prose-pre:backdrop-blur-sm prose-pre:border prose-pre:border-white/10 prose-pre:rounded-xl prose-pre:shadow-inner
                                prose-code:bg-white/10 prose-code:rounded-md prose-code:px-1.5 prose-code:py-0.5 prose-code:font-mono prose-code:text-gold-200 prose-code:before:content-[''] prose-code:after:content-['']
                                prose-blockquote:border-l-gold-500/50 prose-blockquote:bg-white/5 prose-blockquote:py-1 prose-blockquote:px-4 prose-blockquote:rounded-r-lg prose-blockquote:not-italic
                                prose-ul:my-2 prose-li:my-1
                                prose-a:text-gold-400 prose-a:no-underline hover:prose-a:text-gold-300 hover:prose-a:underline
                                prose-p:text-gray-200
                            "[39m
              [36m>[39m
                [36m<p>[39m
                  [0mHi there! Here is some code:[0m
                [36m</p>[39m
                [0m
[0m
                [36m<pre>[39m
                  [36m<div[39m
                    [33maria-label[39m=[32m"python code block"[39m
                    [33mclass[39m=[32m"grid overflow-x-auto w-full max-w-full my-4 rounded-xl border border-white/10 shadow-lg group/code"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-center justify-between px-4 py-2 bg-black/40 border-b border-white/5 text-xs text-gray-400 font-mono"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mpython[0m
                      [36m</span>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"!bg-black/60 !m-0 !p-4 !font-mono text-sm"[39m
                      [33mstyle[39m=[32m"color: rgb(212, 212, 212); font-size: 13px; text-shadow: none; font-family: Menlo, Monaco, Consolas, \"Andale Mono\", \"Ubuntu Mono\", \"Courier New\", monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; margin: 0.5em 0px; overflow: auto; background: rgb(30, 30, 30);"[39m
                    [36m>[39m
                      [36m<code[39m
                        [33mclass[39m=[32m"language-python"[39m
                        [33mstyle[39m=[32m"white-space: pre; color: rgb(212, 212, 212); font-size: 13px; text-shadow: none; font-family: Menlo, Monaco, Consolas, \"Andale Mono\", \"Ubuntu Mono\", \"Courier New\", monospace; direction: ltr; text-align: left; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; hyphens: none;"[39m
                      [36m>[39m
                        [36m<span>[39m
                          [36m<span[39m
                            [33mclass[39m=[32m"token"[39m
                            [33mstyle[39m=[32m"color: rgb(86, 156, 214);"[39m
                          [36m>[39m
                            [0mprint[0m
                          [36m</span>[39m
                          [36m<span[39m
                            [33mclass[39m=[32m"token"[39m
                            [33mstyle[39m=[32m"color: rgb(212, 212, 212);"[39m
                          [36m>[39m
                            [0m([0m
                          [36m</span>[39m
                          [36m<span[39m
                            [33mclass[39m=[32m"token"[39m
                            [33mstyle[39m=[32m"color: rgb(206, 145, 120);"[39m
                          [36m>[39m
                            [0m"hello"[0m
                          [36m</span>[39m
                          [36m<span[39m
                            [33mclass[39m=[32m"token"[39m
                            [33mstyle[39m=[32m"color: rgb(212, 212, 212);"[39m
                          [36m>[39m
                            [0m)[0m
                          [36m</span>[39m
                          [36m<span>[39m
                            [0m [0m
                          [36m</span>[39m
                        [36m</span>[39m
                      [36m</code>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</pre>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-[10px] opacity-40 mt-1.5 font-mono flex items-center gap-1 justify-start text-gray-500"[39m
            [36m>[39m
              [0m10:00:01[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33maria-hidden[39m=[32m"true"[39m
      [36m/>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m‚ùØ[22m Object.getElementError node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m‚ùØ[22m getElementError node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m‚ùØ[22m getMultipleElementsFoundError node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m‚ùØ[22m src/components/__tests__/MessageList.test.tsx:[2m31:23[22m[39m
    [90m 29| [39m
    [90m 30| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Hello'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m 31| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([36m/Hi there!/[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                      [31m^[39m
    [90m 32| [39m    })[33m;[39m
    [90m 33| [39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/7]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/components/__tests__/PersonaSwitcher.test.tsx[2m > [22mPersonaSwitcher[2m > [22mrenders correctly
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the title: Switch Persona.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"relative"[31m
    [36m>[31m
      [36m<button[31m
        [33mclass[31m=[32m"glass-button p-2 flex items-center gap-2 hover:bg-white/10 transition-all group"[31m
        [33mtitle[31m=[32m"personas.switch"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"w-8 h-8 rounded-full bg-gradient-to-br from-tea-400 to-tea-700 flex items-center justify-center border border-white/10 shadow-lg"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-user w-4 h-4 text-white"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"[31m
            [36m/>[31m
            [36m<circle[31m
              [33mcx[31m=[32m"12"[31m
              [33mcy[31m=[32m"7"[31m
              [33mr[31m=[32m"4"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</div>[31m
      [36m</button>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m‚ùØ[22m Object.getElementError node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m‚ùØ[22m src/components/__tests__/PersonaSwitcher.test.tsx:[2m81:23[22m[39m
    [90m 79| [39m    [34mit[39m([32m'renders correctly'[39m[33m,[39m () [33m=>[39m {
    [90m 80| [39m        [34mrenderWithContext[39m()[33m;[39m
    [90m 81| [39m        expect(screen.getByTitle('Switch Persona')).toBeInTheDocument(‚Ä¶
    [90m   | [39m                      [31m^[39m
    [90m 82| [39m    })[33m;[39m
    [90m 83| [39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/7]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/components/__tests__/PersonaSwitcher.test.tsx[2m > [22mPersonaSwitcher[2m > [22mopens menu on click
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the title: Switch Persona.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"relative"[31m
    [36m>[31m
      [36m<button[31m
        [33mclass[31m=[32m"glass-button p-2 flex items-center gap-2 hover:bg-white/10 transition-all group"[31m
        [33mtitle[31m=[32m"personas.switch"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"w-8 h-8 rounded-full bg-gradient-to-br from-tea-400 to-tea-700 flex items-center justify-center border border-white/10 shadow-lg"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-user w-4 h-4 text-white"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"[31m
            [36m/>[31m
            [36m<circle[31m
              [33mcx[31m=[32m"12"[31m
              [33mcy[31m=[32m"7"[31m
              [33mr[31m=[32m"4"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</div>[31m
      [36m</button>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m‚ùØ[22m Object.getElementError node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m‚ùØ[22m src/components/__tests__/PersonaSwitcher.test.tsx:[2m87:31[22m[39m
    [90m 85| [39m        [34mrenderWithContext[39m()[33m;[39m
    [90m 86| [39m
    [90m 87| [39m        [35mconst[39m button [33m=[39m screen[33m.[39m[34mgetByTitle[39m([32m'Switch Persona'[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m 88| [39m        fireEvent[33m.[39m[34mclick[39m(button)[33m;[39m
    [90m 89| [39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[3/7]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/components/__tests__/PersonaSwitcher.test.tsx[2m > [22mPersonaSwitcher[2m > [22mcalls setActiveAgent when a persona is selected
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the title: Switch Persona.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"relative"[31m
    [36m>[31m
      [36m<button[31m
        [33mclass[31m=[32m"glass-button p-2 flex items-center gap-2 hover:bg-white/10 transition-all group"[31m
        [33mtitle[31m=[32m"personas.switch"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"w-8 h-8 rounded-full bg-gradient-to-br from-tea-400 to-tea-700 flex items-center justify-center border border-white/10 shadow-lg"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-user w-4 h-4 text-white"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"[31m
            [36m/>[31m
            [36m<circle[31m
              [33mcx[31m=[32m"12"[31m
              [33mcy[31m=[32m"7"[31m
              [33mr[31m=[32m"4"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</div>[31m
      [36m</button>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m‚ùØ[22m Object.getElementError node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m‚ùØ[22m src/components/__tests__/PersonaSwitcher.test.tsx:[2m100:32[22m[39m
    [90m 98| [39m
    [90m 99| [39m        [90m// Open menu[39m
    [90m100| [39m        fireEvent[33m.[39m[34mclick[39m(screen[33m.[39m[34mgetByTitle[39m([32m'Switch Persona'[39m))[33m;[39m
    [90m   | [39m                               [31m^[39m
    [90m101| [39m
    [90m102| [39m        [90m// Select Barista[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[4/7]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/components/__tests__/PersonaSwitcher.test.tsx[2m > [22mPersonaSwitcher[2m > [22mrenders without crashing when active profile is different
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the title: Switch Persona.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"relative"[31m
    [36m>[31m
      [36m<button[31m
        [33mclass[31m=[32m"glass-button p-2 flex items-center gap-2 hover:bg-white/10 transition-all group"[31m
        [33mtitle[31m=[32m"personas.switch"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"w-8 h-8 rounded-full bg-gradient-to-br from-tea-400 to-tea-700 flex items-center justify-center border border-white/10 shadow-lg"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-user w-4 h-4 text-white"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"[31m
            [36m/>[31m
            [36m<circle[31m
              [33mcx[31m=[32m"12"[31m
              [33mcy[31m=[32m"7"[31m
              [33mr[31m=[32m"4"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</div>[31m
      [36m</button>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m‚ùØ[22m Object.getElementError node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m‚ùØ[22m src/components/__tests__/PersonaSwitcher.test.tsx:[2m112:32[22m[39m
    [90m110| [39m        [34mrenderWithContext[39m(mockSettings)[33m;[39m
    [90m111| [39m
    [90m112| [39m        fireEvent[33m.[39m[34mclick[39m(screen[33m.[39m[34mgetByTitle[39m([32m'Switch Persona'[39m))[33m;[39m
    [90m   | [39m                               [31m^[39m
    [90m113| [39m
    [90m114| [39m        [90m// Both personas should be visible[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[5/7]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/components/__tests__/SearchResults.test.tsx[2m > [22mSearchResults[2m > [22mrenders empty state
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the text: Ê§úÁ¥¢ÁµêÊûúÂæÖÊ©ü‰∏≠.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"h-full flex flex-col items-center justify-center text-gray-500 p-8 glass-panel animate-fade-in"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center mb-3"[31m
      [36m>[31m
        [36m<svg[31m
          [33maria-hidden[31m=[32m"true"[31m
          [33mclass[31m=[32m"lucide lucide-search w-6 h-6 opacity-50"[31m
          [33mfill[31m=[32m"none"[31m
          [33mheight[31m=[32m"24"[31m
          [33mstroke[31m=[32m"currentColor"[31m
          [33mstroke-linecap[31m=[32m"round"[31m
          [33mstroke-linejoin[31m=[32m"round"[31m
          [33mstroke-width[31m=[32m"2"[31m
          [33mviewBox[31m=[32m"0 0 24 24"[31m
          [33mwidth[31m=[32m"24"[31m
          [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
        [36m>[31m
          [36m<path[31m
            [33md[31m=[32m"m21 21-4.34-4.34"[31m
          [36m/>[31m
          [36m<circle[31m
            [33mcx[31m=[32m"11"[31m
            [33mcy[31m=[32m"11"[31m
            [33mr[31m=[32m"8"[31m
          [36m/>[31m
        [36m</svg>[31m
      [36m</div>[31m
      [36m<span[31m
        [33mclass[31m=[32m"text-sm font-medium"[31m
      [36m>[31m
        [0msearch.no_results[0m
      [36m</span>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m‚ùØ[22m Object.getElementError node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m‚ùØ[22m src/components/__tests__/SearchResults.test.tsx:[2m9:23[22m[39m
    [90m  7| [39m    [34mit[39m([32m'renders empty state'[39m[33m,[39m () [33m=>[39m {
    [90m  8| [39m        [34mrender[39m([33m<[39m[33mSearchResults[39m [33mresults[39m[33m=[39m[33m{[39m[][33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m  9| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Ê§úÁ¥¢ÁµêÊûúÂæÖÊ©ü‰∏≠...'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                      [31m^[39m
    [90m 10| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'0 results'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m 11| [39m    })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[6/7]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/components/__tests__/SearchResults.test.tsx[2m > [22mSearchResults[2m > [22mrenders results correctly
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: 1 results. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"h-full max-h-[calc(100vh-320px)] flex flex-col glass-panel p-4 overflow-hidden animate-fade-in border border-tea-500/10"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-center gap-2 mb-3 text-tea-400 border-b border-white/10 pb-2 shrink-0"[39m
      [36m>[39m
        [36m<svg[39m
          [33maria-hidden[39m=[32m"true"[39m
          [33mclass[39m=[32m"lucide lucide-globe w-4 h-4"[39m
          [33mfill[39m=[32m"none"[39m
          [33mheight[39m=[32m"24"[39m
          [33mstroke[39m=[32m"currentColor"[39m
          [33mstroke-linecap[39m=[32m"round"[39m
          [33mstroke-linejoin[39m=[32m"round"[39m
          [33mstroke-width[39m=[32m"2"[39m
          [33mviewBox[39m=[32m"0 0 24 24"[39m
          [33mwidth[39m=[32m"24"[39m
          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
        [36m>[39m
          [36m<circle[39m
            [33mcx[39m=[32m"12"[39m
            [33mcy[39m=[32m"12"[39m
            [33mr[39m=[32m"10"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M2 12h20"[39m
          [36m/>[39m
        [36m</svg>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xs font-bold uppercase tracking-[0.2em] font-display"[39m
        [36m>[39m
          [0msearch.title[0m
        [36m</h3>[39m
        [36m<span[39m
          [33mclass[39m=[32m"ml-auto text-[10px] bg-tea-500/10 px-2 py-0.5 rounded-full text-tea-300"[39m
        [36m>[39m
          [0m1[0m
          [0m [0m
          [0msearch.hits[0m
        [36m</span>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"overflow-y-auto custom-scrollbar flex-1 -mr-2 pr-2 space-y-3"[39m
      [36m>[39m
        [36m<a[39m
          [33mclass[39m=[32m"block group relative p-3 rounded-xl bg-black/20 hover:bg-white/5 border border-white/5 hover:border-tea-500/30 transition-all duration-300"[39m
          [33mhref[39m=[32m"https://example.com"[39m
          [33mrel[39m=[32m"noopener noreferrer"[39m
          [33mtarget[39m=[32m"_blank"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 rounded-xl bg-tea-500/5 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative z-10"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-xs font-medium text-tea-200 group-hover:text-tea-100 flex items-center gap-2 leading-tight mb-1.5"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"line-clamp-2"[39m
              [36m>[39m
                [0mTest Result[0m
              [36m</span>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-external-link w-3 h-3 opacity-0 group-hover:opacity-50 transition-opacity shrink-0"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M15 3h6v6"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M10 14 21 3"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-[10px] text-gray-500 line-clamp-2 leading-relaxed mb-2 group-hover:text-gray-400 transition-colors"[39m
            [36m>[39m
              [0mThis is a test snippet[0m
            [36m</p>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-1.5 text-[9px] text-tea-500/50 font-mono"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-globe w-2.5 h-2.5"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M2 12h20"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"truncate max-w-[150px]"[39m
              [36m>[39m
                [0mexample.com[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute right-3 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all duration-300 text-tea-400"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-chevron-right w-4 h-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"m9 18 6-6-6-6"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</div>[39m
        [36m</a>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"h-4 shrink-0 bg-gradient-to-t from-black/20 to-transparent -mx-4 -mb-4 mt-2 pointer-events-none"[39m
      [36m/>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m‚ùØ[22m Object.getElementError node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m‚ùØ[22m src/components/__tests__/SearchResults.test.tsx:[2m26:23[22m[39m
    [90m 24| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Test Result'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m 25| [39m        expect(screen.getByText('This is a test snippet')).toBeInTheDo‚Ä¶
    [90m 26| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'1 results'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                      [31m^[39m
    [90m 27| [39m
    [90m 28| [39m        [35mconst[39m link [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'link'[39m)[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[7/7]‚éØ[22m[39m


[2m Test Files [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m5 passed[39m[22m[90m (8)[39m
[2m      Tests [22m [1m[31m7 failed[39m[22m[2m | [22m[1m[32m22 passed[39m[22m[90m (29)[39m
[2m   Start at [22m 00:06:40
[2m   Duration [22m 3.48s[2m (transform 1.33s, setup 1.50s, import 6.63s, tests 1.20s, environment 9.37s)[22m

