# Tepora é–‹ç™ºã‚¬ã‚¤ãƒ‰

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€Teporaãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é–‹ç™ºç’°å¢ƒæ§‹ç¯‰ã€å®Ÿè¡Œæ–¹æ³•ã€ãƒ†ã‚¹ãƒˆæ–¹æ³•ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã™ã€‚
æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ **Desktop First** (Tauri + Local Python Backend) ã‚’ä¸»è»¸ã¨ã—ã¦ã„ã¾ã™ãŒã€é–‹ç™ºã®åˆ©ä¾¿æ€§ã®ãŸã‚ã«Webãƒ–ãƒ©ã‚¦ã‚¶ã§ã®å‹•ä½œã‚‚ä¸€éƒ¨ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

## ğŸ› ï¸ å‰ææ¡ä»¶ (Prerequisites)

ä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

- **Python**: 3.13 ä»¥ä¸Š
- **Node.js**: 18.0.0 ä»¥ä¸Š
- **Rust**: æœ€æ–°ã®å®‰å®šç‰ˆ (Tauriã®ãƒ“ãƒ«ãƒ‰ã«å¿…è¦)
- **Visual Studio Code** (æ¨å¥¨ã‚¨ãƒ‡ã‚£ã‚¿)

## ğŸš€ ç’°å¢ƒæ§‹ç¯‰ (Setup)

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
```bash
git clone https://github.com/coco4atJP/Tepora.git
cd Tepora
```

### 2. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Python) ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
**æ¨å¥¨æ‰‹é † (Using uv)**:
Teporaã§ã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã« `uv` ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
```powershell
cd Tepora-app/backend
uv sync
```
**æ³¨æ„**: `llama-cpp-python` ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«ã¯C++ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ãŒå¿…è¦ã«ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚GPUã‚µãƒãƒ¼ãƒˆã‚’æœ‰åŠ¹ã«ã™ã‚‹å ´åˆã¯ã€é©åˆ‡ãªãƒ“ãƒ«ãƒ‰å¼•æ•°ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚

### 3. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (React + Tauri) ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```powershell
cd Tepora-app/frontend
npm ci --legacy-peer-deps
```

## ğŸ’» é–‹ç™ºæ™‚ã®å®Ÿè¡Œæ–¹æ³• (Running in Development)

é–‹ç™ºæ™‚ã¯ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’åˆ¥ã€…ã«èµ·å‹•ã™ã‚‹ã‹ã€Taurié–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

### A. ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã¨ã—ã¦é–‹ç™º (æ¨å¥¨)
Tauri ç’°å¢ƒã§å®Ÿè¡Œã—ã¾ã™ã€‚WebViewã¨ãƒã‚¤ãƒ†ã‚£ãƒ–APIã®é€£æºã‚’å«ã‚ãŸå®Œå…¨ãªå‹•ä½œç¢ºèªãŒå¯èƒ½ã§ã™ã€‚

```powershell
cd Tepora-app/frontend
npm run tauri dev
```
ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯ä»¥ä¸‹ã‚’è‡ªå‹•ã§è¡Œã„ã¾ã™ï¼š
1. Vite ã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
2. Python ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®èµ·å‹• (Sidecar ã¨ã—ã¦)
3. ã‚¢ãƒ—ãƒªã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®è¡¨ç¤º

### B. Webãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ç™º (UIèª¿æ•´å‘ã‘)
UIã®èª¿æ•´ã ã‘ã‚’é«˜é€Ÿã«è¡Œã„ãŸã„å ´åˆã€ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¢ãƒ¼ãƒ‰ãŒä¾¿åˆ©ã§ã™ã€‚ãŸã ã—ã€Tauriå›ºæœ‰ã®API (ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œãªã©) ã¯å‹•ä½œã—ã¾ã›ã‚“ã€‚

**æ¨å¥¨: Taskfileã‚’ä½¿ç”¨**
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã§ `task` ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
```powershell
task dev
```

**ä»£æ›¿: å€‹åˆ¥èµ·å‹• (æ‰‹å‹•)**
å€‹åˆ¥ã«èµ·å‹•ã™ã‚‹å ´åˆã¯ã€ç’°å¢ƒå¤‰æ•°ã‚’æ‰‹å‹•ã§åˆã‚ã›ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

**ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1 (ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰)**
```powershell
cd Tepora-app/backend
# å›ºå®šãƒãƒ¼ãƒˆã‚’æŒ‡å®šã—ã¦èµ·å‹•
$env:PORT="8000"; uv run server.py
```

**ã‚¿ãƒ¼ãƒŸãƒŠãƒ«2 (ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰)**
```powershell
cd Tepora-app/frontend
npm run dev
```
ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:5173` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚

### C. Windows é–‹ç™ºè€…ãƒ¢ãƒ¼ãƒ‰ã®æœ‰åŠ¹åŒ– (Windows)

Windows ç’°å¢ƒã§æœªç½²åã®ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ã‚¢ãƒ—ãƒª(.msi/.exe)ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹å ´åˆã‚„ã€ä¸€éƒ¨ã®æ¨©é™ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€Windows é–‹ç™ºè€…ãƒ¢ãƒ¼ãƒ‰ã®æœ‰åŠ¹åŒ–ãŒå¿…è¦ã«ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

Windowsã®ã€Œè¨­å®šã€ã‚¢ãƒ—ãƒªã‹ã‚‰ã€Œãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€>ã€Œé–‹ç™ºè€…å‘ã‘ã€ã‚’é–‹ãã€ã€Œé–‹ç™ºè€…ãƒ¢ãƒ¼ãƒ‰ã€ã‚’æœ‰åŠ¹ã«ã—ã¦ãã ã•ã„ã€‚

## ğŸ§ª ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ (Testing)

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Pytest)
```powershell
cd Tepora-app/backend
uv run pytest tests/
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (Vitest)
```powershell
cd Tepora-app/frontend
npm run test
```

## ğŸ“¦ ãƒ“ãƒ«ãƒ‰ã¨é…å¸ƒ (Build & Distribution)

Tauri ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚

```powershell
cd Tepora-app/frontend
npm run build:app
```
ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯ä»¥ä¸‹ã®å‡¦ç†ã‚’è¡Œã„ã¾ã™ï¼š
1. React ã‚¢ãƒ—ãƒªã®ãƒ“ãƒ«ãƒ‰ (`frontend/dist` ç”Ÿæˆ)
2. Python ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«åŒ– (PyInstaller ã§ `tepora-backend` ç”Ÿæˆ)
3. Tauri ã‚¢ãƒ—ãƒªã®ãƒãƒ³ãƒ‰ãƒ« (MSI ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ç­‰ã®ç”Ÿæˆ)

ç”Ÿæˆç‰©ã¯ `Tepora-app/frontend/src-tauri/target/release/bundle` ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

## ğŸ“ ä¸»è¦ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
è©³ç´°ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯ [ARCHITECTURE.md](../architecture/ARCHITECTURE.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

- `Tepora-app/backend/src/tepora_server`: FastAPI Webã‚µãƒ¼ãƒãƒ¼å®Ÿè£…
- `Tepora-app/backend/src/core`: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ (LangGraph, EM-LLM)
- `Tepora-app/frontend/src`: React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- `Tepora-app/frontend/src-tauri`: Tauri è¨­å®šã¨ Rust ã‚³ãƒ¼ãƒ‰
