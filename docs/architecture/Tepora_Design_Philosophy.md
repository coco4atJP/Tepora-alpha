# Tepora - Design Philosophy

## 1. Purpose / Vision
Teporaは「コンシューマーハードウェアで動作する、真のパーソナルAIエージェントの実用化」を目指す。  
“温かみのあるAIパートナー”として、ローカル環境でユーザーのプライバシーと体験品質を両立する。

## 2. Core Principles（最優先の判断基準）
### P1. Local First / Privacy First
- 可能な限り処理・データはローカル完結
- 外部送信が発生する場合は明示と最小化（設定でOFF可能が理想）

### P2. Production Ready（実験より運用品質）
- 例外は握り潰さない：ログ・復旧導線・失敗時UXを設計する
- “動く”より “壊れない/直せる” を重視（観測性・テスト・境界設計）

### P3. Hardware Agnostic
- CPUでも最低限の体験が成立するフォールバックを持つ
- 重い処理は段階的に劣化（graceful degradation）する設計

### P4. Modular Design（差し替え可能性）
- LLM / Memory / Tools / UI を疎結合に
- 境界をまたぐ部分は「インターフェース」と「契約（入力/出力/失敗）」を先に決める

### P5. Warm & Calm UX（紅茶・喫茶店コンセプト）
- 早さだけでなく、安心感・分かりやすさ・落ち着きを優先
- 不確実性は正直に表示し、ユーザーの選択権を残す

## 3. Non-goals（やらないこと）
- “全部入り万能AI”を最初から狙わない
- クラウド前提の常時接続設計はしない（必要時のみオプション）
- 魔法の自動化より、ユーザーが理解できる自動化を優先

## 4. Design Constraints（設計上の縛り）
- セキュリティ：ローカルデータの扱い、権限、秘密情報の露出を最優先で防ぐ
- データ：永続化はスキーマ変更を想定（マイグレーション方針を持つ）
- 失敗：ネットワーク/モデル/ツール失敗は“普通に起きる”前提

## 5. Architectural Invariants（破ってはいけないルール）
- UIはCoreロジックを直接持たない（境界はAPI/WS）
- Tool実行は監査可能（何を・いつ・なぜ実行したか追える）
- Memoryは“投入する情報の質”を担保する（ゴミを溜めない）

## 6. Trade-offs（迷ったときの優先順位）
原則：Privacy/Correctness > Reliability > UX > Performance > Fancy features

## 7. Definition of Done（完了条件）
- ログ：主要失敗ケースがログで追える
- テスト：重要ロジックにユニット or 契約テストがある
- ドキュメント：破壊的変更はADRを1枚追加する
